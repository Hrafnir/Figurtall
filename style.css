/* Version: #6 */

body {
    -webkit-font-smoothing: antialiased;
}

#main-canvas {
    display: block;
    width: 100%;
    height: 100%;
    background-color: #ffffff;
    background-image: 
        linear-gradient(#e5e7eb 1px, transparent 1px),
        linear-gradient(90deg, #e5e7eb 1px, transparent 1px);
    background-size: 30px 30px; 
    background-position: -1px -1px;
}

.selection-marquee {
    position: absolute;
    border: 1px dashed #2563eb; 
    background-color: rgba(37, 99, 235, 0.1);
    pointer-events: none; 
    z-index: 50;
    display: none; 
}

::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}
::-webkit-scrollbar-track { background: #f1f1f1; }
::-webkit-scrollbar-thumb { background: #c1c1c1; border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: #a8a8a8; }

input[type=range] { -webkit-appearance: none; width: 100%; background: transparent; }
input[type=range]::-webkit-slider-thumb {
    -webkit-appearance: none; border: 2px solid #ffffff; height: 20px; width: 20px;
    border-radius: 50%; background: #2563eb; cursor: pointer; margin-top: -8px; 
    box-shadow: 0 1px 3px rgba(0,0,0,0.3);
}
input[type=range]::-moz-range-thumb {
    border: 2px solid #ffffff; height: 20px; width: 20px; border-radius: 50%;
    background: #2563eb; cursor: pointer; box-shadow: 0 1px 3px rgba(0,0,0,0.3);
}
input[type=range]::-webkit-slider-runnable-track {
    width: 100%; height: 4px; cursor: pointer; background: #d1d5db; border-radius: 2px;
}
input[type=range]:focus { outline: none; }

#context-menu { animation: fadeIn 0.1s ease-out; }
@keyframes fadeIn {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
}

.hidden-layout { display: none !important; }

/* PRINT STYLES */
@media print {
    .no-print { display: none !important; }
    
    body {
        height: auto !important;
        overflow: visible !important;
        display: block !important;
    }

    #sidebar-panel { display: none !important; }

    #canvas-container {
        height: 600px !important; 
        border: 1px solid #ccc;
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
        page-break-after: avoid;
    }

    body.print-no-formula #bottom-panel { display: none !important; }

    #bottom-panel {
        height: auto !important;
        border: 1px solid #ccc;
        margin-top: 10px;
        page-break-inside: avoid;
    }
}
